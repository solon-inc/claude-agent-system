# Linear上でのマイルストーン管理方法

## 概要
このシステムでは、LinearのIssue機能を使ってマイルストーンを管理します。マイルストーンは特別なタイプのIssueとして作成され、関連するタスクをサブタスクとして紐付けることで進捗を可視化します。

---

## 🎯 マイルストーンの実装方法

### 1. マイルストーンの作成

マイルストーンは通常のIssueとして作成されますが、以下の特殊な規則があります：

```javascript
// マイルストーン作成の例
mcp__linear__linear_createIssue({
  title: "[Milestone] ビジネスモデル確定",
  description: `
    ## マイルストーン概要
    事業計画の核となるビジネスモデルを確定する
    
    ## 完了条件
    - [ ] 収益モデルの決定
    - [ ] ターゲット顧客の定義
    - [ ] 価値提案の明文化
    - [ ] 経営陣の承認
    
    ## 期限
    2025-02-15
    
    ## 成果物
    - ビジネスモデルキャンバス
    - 収益シミュレーション
    - 承認議事録
  `,
  teamId: "team_id",
  projectId: "project_id",
  labelIds: ["type:milestone", "phase:business-planning", "priority:high"],
  dueDate: "2025-02-15"
})
```

### 2. 命名規則

**必須**: すべてのマイルストーンのタイトルは `[Milestone]` で開始

```
良い例:
- [Milestone] 市場調査完了
- [Milestone] MVP完成
- [Milestone] 本番リリース

悪い例:
- 市場調査完了（プレフィックスなし）
- マイルストーン：MVP完成（形式が異なる）
```

### 3. ラベル体系

マイルストーンには必ず以下のラベルを付与：
- `type:milestone` - マイルストーンであることを示す
- `phase:xxx` - どのフェーズのマイルストーンか
- `priority:xxx` - 重要度

---

## 📊 マイルストーンとタスクの関係

### 親子関係の構築

```javascript
// 1. マイルストーンを作成
const milestone = await mcp__linear__linear_createIssue({
  title: "[Milestone] 要件定義完了",
  labelIds: ["type:milestone"],
  // ...
});

// 2. 関連タスクをサブタスクとして作成
await mcp__linear__linear_createIssue({
  title: "ユーザーストーリーの作成",
  parentId: milestone.id,  // マイルストーンを親として指定
  // ...
});
```

### 階層構造の例

```
[Milestone] MVP完成
├── フロントエンド基本機能実装
│   ├── ログイン画面の実装
│   ├── ダッシュボードの実装
│   └── 商品一覧画面の実装
├── バックエンドAPI開発
│   ├── 認証APIの実装
│   ├── 商品管理APIの実装
│   └── 注文処理APIの実装
└── インフラ構築
    ├── AWS環境セットアップ
    └── CI/CDパイプライン構築
```

---

## 📈 進捗管理

### 1. 自動進捗計算

LinearのparentIssue機能により、サブタスクの完了状況が自動的に親マイルストーンに反映されます：

- サブタスク 0/5 完了 → マイルストーン進捗 0%
- サブタスク 2/5 完了 → マイルストーン進捗 40%
- サブタスク 5/5 完了 → マイルストーン進捗 100%

### 2. 進捗の可視化

```bash
# TaskManagerコマンド
"プロジェクト状況を確認"

# 出力例
## マイルストーン進捗
- [Milestone] 市場調査完了: 100% ✅
- [Milestone] ビジネスモデル確定: 60% 🔄
  - 収益モデルの決定: Done ✅
  - ターゲット顧客の定義: Done ✅
  - 価値提案の明文化: In Progress 🔄
  - 経営陣の承認: Todo ⏳
- [Milestone] 事業計画書承認: 0% ⏳
```

### 3. カスタムフィールドの活用

```yaml
# linear_config.yamlでの定義
custom_fields:
  - name: "予定完了日"
    type: date
    required_for: ["type:milestone"]
  - name: "実績完了日"
    type: date
  - name: "進捗率"
    type: number
    auto_calculate: true
```

---

## 🔄 プロジェクトテンプレートとの連携

### 自動マイルストーン作成

プロジェクト作成時に、テンプレートに基づいて自動的にマイルストーンが作成されます：

```yaml
# linear_config.yamlより
project_templates:
  business_planning:
    milestones:
      - "市場調査完了"
      - "ビジネスモデル確定"
      - "事業計画書承認"
```

### 実行例

```bash
# TaskManager
"新規プロジェクトを開始"
→ タイプ: business

# 自動的に作成されるマイルストーン
1. [Milestone] 市場調査完了
2. [Milestone] ビジネスモデル確定
3. [Milestone] 事業計画書承認
```

---

## 📋 マイルストーン管理のベストプラクティス

### 1. SMART原則に従った定義

- **Specific（具体的）**: 明確な成果物を定義
- **Measurable（測定可能）**: 完了条件を数値化
- **Achievable（達成可能）**: 現実的な目標設定
- **Relevant（関連性）**: プロジェクトゴールとの整合性
- **Time-bound（期限）**: 明確な期限設定

### 2. マイルストーンの粒度

```
良い粒度:
- フェーズ単位（2-4週間）
- 明確な成果物がある
- 5-15個のサブタスク

避けるべき:
- 日次タスクレベル
- 曖昧な完了条件
- 50個以上のサブタスク
```

### 3. レビューとアップデート

```bash
# 週次レビュー
"マイルストーンの進捗を確認"
→ 遅延リスクの早期発見
→ リソース配分の調整
→ スコープの見直し
```

---

## 🚨 注意事項とトラブルシューティング

### 1. マイルストーンの変更

```bash
# スコープ変更時
"マイルストーンにタスクを追加"
→ 影響範囲の確認
→ 期限の再調整
→ ステークホルダーへの通知
```

### 2. 依存関係の管理

```javascript
// マイルストーン間の依存関係
mcp__linear__linear_createIssueRelation({
  issueId: "milestone-1-id",
  relatedIssueId: "milestone-2-id",
  type: "blocks"  // milestone-1が完了しないとmilestone-2が開始できない
})
```

### 3. 遅延時の対応

```bash
# アラート設定
if (マイルストーン期限 - 現在日 < 3日 && 進捗 < 80%) {
  // Slackに自動通知
  // ブロッカーの確認
  // エスカレーション
}
```

---

## 🎯 実装例：エンドツーエンドのフロー

```bash
# 1. プロジェクト開始
TaskManager: "新規プロジェクトを開始"
→ 自動的に3つのマイルストーン作成

# 2. タスク分解
TaskManager: "要件定義のタスクを作成"
→ マイルストーン「要件定義完了」のサブタスクとして追加

# 3. 開発作業
Developer: "Linear issue DEV-123を実装"
→ 自動的にマイルストーン進捗が更新

# 4. 進捗確認
TaskManager: "プロジェクト状況を確認"
→ マイルストーンごとの進捗率表示

# 5. レポート生成
TaskManager: "週次レポートを作成"
→ マイルストーン達成状況を含むレポート
```

---

## 📊 メトリクスとKPI

### 追跡すべき指標

1. **マイルストーン達成率**: 予定通り完了したマイルストーンの割合
2. **平均遅延日数**: マイルストーンの予定と実績の差
3. **スコープ変更率**: 初期定義からの変更割合
4. **リソース効率**: 見積もりと実績の比較

### ダッシュボード例

```
プロジェクト: NextGen EC
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
マイルストーン達成率: 66.7% (2/3)
現在のフェーズ: 開発
次のマイルストーン: MVP完成（残り10日）
進捗: ████████░░ 80%
リスク: 中（一部タスクに遅延）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

最終更新: 2025-01-25